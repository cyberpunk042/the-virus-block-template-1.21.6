# Field Customizer GUI Design

> **Status:** âœ… Implemented (Phase 1-5 Complete)  
> **Priority:** Phase 2 (considered in Phase 1, developed in Phase 2)  
> **Created:** December 7, 2024  
> **Updated:** December 9, 2024 (Added category system) - Implementation complete, see CLASS_DIAGRAM for current classes

---

## 1. Why It Won't Break the Architecture

The GUI is an **additional layer on top** of the existing system. It doesn't replace anything:

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                           INTERACTION LAYERS                                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”‚
â”‚  â”‚  JSON Profiles  â”‚   â”‚ Debug Commands  â”‚   â”‚   GUI Panel     â”‚ â† NEW    â”‚
â”‚  â”‚   (files)       â”‚   â”‚ (/fieldtest)    â”‚   â”‚ (in-game UI)    â”‚          â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â”‚
â”‚           â”‚                     â”‚                     â”‚                    â”‚
â”‚           â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                    â”‚
â”‚                                 â–¼                                          â”‚
â”‚                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                             â”‚
â”‚                    â”‚    FieldDefinition      â”‚  â† SAME CORE               â”‚
â”‚                    â”‚  (the single source)    â”‚                             â”‚
â”‚                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                             â”‚
â”‚                                 â”‚                                          â”‚
â”‚                                 â–¼                                          â”‚
â”‚                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                             â”‚
â”‚                    â”‚  Rendering Pipeline     â”‚  â† UNCHANGED               â”‚
â”‚                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                             â”‚
â”‚                                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**Key Point:** All three interfaces (JSON, commands, GUI) produce the same `FieldDefinition`. The rendering system doesn't care where it came from.

---

## 2. How It Fits in the Class Diagram

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                              GUI SYSTEM                                     â”‚
â”‚                      Package: client.gui.field                              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚                    FieldCustomizerScreen                            â”‚   â”‚
â”‚  â”‚                      extends Screen                                 â”‚   â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤   â”‚
â”‚  â”‚ - currentDefinition: FieldDefinition                                â”‚   â”‚
â”‚  â”‚ - selectedLayer: int                                                â”‚   â”‚
â”‚  â”‚ - selectedPrimitive: int                                            â”‚   â”‚
â”‚  â”‚ - previewRenderer: FieldPreviewRenderer                             â”‚   â”‚
â”‚  â”‚ - isDirty: boolean                                                  â”‚   â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤   â”‚
â”‚  â”‚ + init()                         // Setup widgets                   â”‚   â”‚
â”‚  â”‚ + render(context, mouseX, mouseY, delta)                            â”‚   â”‚
â”‚  â”‚ + onValueChanged(field, value)   // Handle slider/dropdown change  â”‚   â”‚
â”‚  â”‚ + rebuildDefinition()            // Create new FieldDefinition     â”‚   â”‚
â”‚  â”‚ + sendToServer()                 // Sync changes                   â”‚   â”‚
â”‚  â”‚ + saveProfile(name)              // Save to file                   â”‚   â”‚
â”‚  â”‚ + loadProfile(name)              // Load from file                 â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                    â”‚                                        â”‚
â”‚                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                       â”‚
â”‚                    â–¼               â–¼               â–¼                       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  FieldPreview       â”‚ â”‚  WidgetPanel    â”‚ â”‚  ProfilePanel           â”‚  â”‚
â”‚  â”‚    Renderer         â”‚ â”‚                 â”‚ â”‚                         â”‚  â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â”‚
â”‚  â”‚ Renders mini field  â”‚ â”‚ All the sliders â”‚ â”‚ Save/Load/Delete        â”‚  â”‚
â”‚  â”‚ in preview area     â”‚ â”‚ and dropdowns   â”‚ â”‚ profile management      â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                                             â”‚
â”‚  Custom Widgets:                                                            â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ LabeledSlider     â”‚ Slider with label and value display             â”‚   â”‚
â”‚  â”‚ EnumDropdown<E>   â”‚ Dropdown for any enum (ShapeType, FillMode...)  â”‚   â”‚
â”‚  â”‚ ColorPickerWidget â”‚ Color selection with preview                    â”‚   â”‚
â”‚  â”‚ Vec3Editor        â”‚ X/Y/Z inputs for vectors                        â”‚   â”‚
â”‚  â”‚ RangeSlider       â”‚ Min/max slider for alpha ranges                 â”‚   â”‚
â”‚  â”‚ PatternSelector   â”‚ Visual pattern picker with thumbnails          â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 3. Network Integration

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         NETWORK FLOW                                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                             â”‚
â”‚  CLIENT                                    SERVER                           â”‚
â”‚  â”€â”€â”€â”€â”€â”€                                    â”€â”€â”€â”€â”€â”€                           â”‚
â”‚                                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                                       â”‚
â”‚  â”‚ User adjusts    â”‚                                                       â”‚
â”‚  â”‚ slider/dropdown â”‚                                                       â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                                       â”‚
â”‚           â”‚                                                                 â”‚
â”‚           â–¼                                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                                       â”‚
â”‚  â”‚ rebuildDef()    â”‚ Creates new FieldDefinition                           â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                                       â”‚
â”‚           â”‚                                                                 â”‚
â”‚           â–¼                                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    FieldUpdatePayload    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ Local preview   â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚ PersonalFieldInstance  â”‚ â”‚
â”‚  â”‚ updates         â”‚                           â”‚ .setDefinition(def)     â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                           â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                            â”‚                â”‚
â”‚                                                            â–¼                â”‚
â”‚                                                 â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚                         Broadcast to all        â”‚ FieldManager            â”‚ â”‚
â”‚                         nearby players          â”‚ .broadcastUpdate(id)    â”‚ â”‚
â”‚                                                 â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                                             â”‚
â”‚  SAVE FLOW:                                                                â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    FieldSavePayload      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ [Save Profile]  â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚ FieldProfileStore       â”‚ â”‚
â”‚  â”‚ button clicked  â”‚                           â”‚ .saveForPlayer(uuid,    â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                           â”‚   name, definition)     â”‚ â”‚
â”‚                                                 â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 4. Screen Layout (Detailed)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• âš¡ FIELD CUSTOMIZER âš¡ â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                            â”‚
â”‚  â”Œâ”€ LAYER â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚  [â—€] Layer 1 of 3 [â–¶]    [+ Add Layer]  [ğŸ—‘ Delete]  [â†‘â†“ Reorder]   â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                                            â”‚
â”‚  â”Œâ”€ PRIMITIVE â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€ PREVIEW â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚                              â”‚  â”‚                                   â”‚ â”‚
â”‚  â”‚  Shape: [â–¼ Sphere         ]  â”‚  â”‚     â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®        â”‚ â”‚
â”‚  â”‚                              â”‚  â”‚    â•±                     â•²       â”‚ â”‚
â”‚  â”‚  â”€â”€ Shape Config â”€â”€          â”‚  â”‚   â”‚    â—‰ â—‰ â—‰ â—‰ â—‰ â—‰ â—‰    â”‚       â”‚ â”‚
â”‚  â”‚  Radius:    [====â—===] 1.5   â”‚  â”‚   â”‚   â—‰ â—‰ â—‰ â—‰ â—‰ â—‰ â—‰ â—‰   â”‚       â”‚ â”‚
â”‚  â”‚  Lat Steps: [======â—=] 48    â”‚  â”‚   â”‚  â—‰ â—‰ â—‰ â—‰ â—‰ â—‰ â—‰ â—‰ â—‰  â”‚       â”‚ â”‚
â”‚  â”‚  Lon Steps: [======â—=] 96    â”‚  â”‚   â”‚   â—‰ â—‰ â—‰ â—‰ â—‰ â—‰ â—‰ â—‰   â”‚       â”‚ â”‚
â”‚  â”‚                              â”‚  â”‚   â”‚    â—‰ â—‰ â—‰ â—‰ â—‰ â—‰ â—‰    â”‚       â”‚ â”‚
â”‚  â”‚  â”€â”€ Fill Mode â”€â”€             â”‚  â”‚    â•²                     â•±       â”‚ â”‚
â”‚  â”‚  Mode: [â–¼ Solid           ]  â”‚  â”‚     â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯        â”‚ â”‚
â”‚  â”‚  Wire Thickness: [===â—==] 1  â”‚  â”‚                                   â”‚ â”‚
â”‚  â”‚                              â”‚  â”‚   [Rotate] [Zoom +] [Zoom -]     â”‚ â”‚
â”‚  â”‚  â”€â”€ Visibility â”€â”€            â”‚  â”‚                                   â”‚ â”‚
â”‚  â”‚  Mask: [â–¼ Bands           ]  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚  â”‚  Count:     [====â—===] 8     â”‚                                        â”‚
â”‚  â”‚  Thickness: [=====â—==] 0.5   â”‚  â”Œâ”€ LAYER OPTIONS â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚                              â”‚  â”‚                                   â”‚ â”‚
â”‚  â”‚  â”€â”€ Arrangement â”€â”€           â”‚  â”‚  Rotation:  X[___] Y[___] Z[___] â”‚ â”‚
â”‚  â”‚  Pattern: [â–¼ filled_1     ]  â”‚  â”‚  Spin:      [====â—===] 0.02      â”‚ â”‚
â”‚  â”‚  [â—€ Prev] [â–¶ Next] [Shuffle] â”‚  â”‚  Phase:     [===â—====] 0.0       â”‚ â”‚
â”‚  â”‚                              â”‚  â”‚  Visible:   [âœ“]                  â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚                                   â”‚ â”‚
â”‚                                     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚  â”Œâ”€ APPEARANCE â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€ ANIMATION â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚                              â”‚  â”‚                                   â”‚ â”‚
â”‚  â”‚  Color: [â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ] @primary [â–¼] â”‚  â”‚  Spin Axis:  [â–¼ Y              ] â”‚ â”‚
â”‚  â”‚  Alpha: [====â—========] 0.7  â”‚  â”‚  Spin Speed: [====â—===] 0.02     â”‚ â”‚
â”‚  â”‚  Glow:  [==â—==========] 0.3  â”‚  â”‚  Pulse:      [==â—=====] 0.1      â”‚ â”‚
â”‚  â”‚                              â”‚  â”‚  Phase:      [===â—====] 0.0      â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                                            â”‚
â”‚  â”Œâ”€ ACTIONS â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚                                                                      â”‚ â”‚
â”‚  â”‚  [ğŸ’¾ Save As...]  [ğŸ“‚ Load...]  [â­ Set Default]  [â†© Reset]  [âœ• Close] â”‚
â”‚  â”‚                                                                      â”‚ â”‚
â”‚  â”‚  Saved Profiles: [â–¼ my_shield_v2                                  ]  â”‚ â”‚
â”‚  â”‚                                                                      â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 4.x Global Bottom Bar (non-Profile tabs)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ [Preset â–¼ None    ]  â†’ glow, alpha   â”‚ [Profile â–¼ Custom ] [SAVE] [REVERT] â”‚
â”‚ â†‘ Multi-scope                        â”‚ â†‘ Complete field                    â”‚
â”‚   (merges settings)                  â”‚   (replaces all)                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

LEFT SIDE: Preset Dropdown
- Loads from field_presets/ folder
- Applies PARTIAL merge (multiple categories at once)
- Shows affected categories as hint: "â†’ glow, alpha, fill"
- Selecting a preset marks state as dirty

RIGHT SIDE: Profile + Actions  
- Profile dropdown: complete field definitions
- SAVE: enabled when dirty; becomes "Save As" for server profiles
- REVERT: restores last saved state; disabled for server profiles

BEHAVIOR:
- Visible on Quick / Advanced / Debug tabs; hidden on Profiles tab
- When values change manually, Preset resets to "None"
- Selecting a new Profile also resets Preset to "None"
```

### 4.x Profiles Tab (List + Category Presets + Actions)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Profiles (select list)        â”‚ Category Presets (read-only)  â”‚
â”‚                               â”‚                               â”‚
â”‚  â— my_shield_v2   (local)     â”‚  Shape:       Sphere Default  â”‚
â”‚  â—‹ radar_pulse    (local)     â”‚  Visibility:  Bands           â”‚
â”‚  â—‹ cage_wire      (local)     â”‚  Arrangement: Wavey           â”‚
â”‚  â—‹ shield_default (server)    â”‚  Fill:        Wireframe       â”‚
â”‚  â—‹ aura_heal      (server)    â”‚  Animation:   Spin Slow       â”‚
â”‚                               â”‚  Beam:        None            â”‚
â”‚                               â”‚  Follow:      Smooth          â”‚
â”‚                               â”‚  Prediction:  Medium          â”‚
â”‚                               â”‚  (If no match â†’ CUSTOM)       â”‚
â”‚                                                               â”‚
â”‚  Name: [ my_shield_v2              ]                          â”‚
â”‚  Source: Local                                                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Actions (Profiles tab only):                                   â”‚
â”‚  Load   Save   Save Asâ€¦   Revert   Rename   Duplicate   Delete â”‚
â”‚  Import JSON   Export JSON   Set Default                       â”‚
â”‚                                                               â”‚
â”‚ Status: â— Unsaved changes (local)                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

Behavior:
- Local selection: Save enabled when dirty; Revert restores last-loaded local; Rename/Duplicate/Delete/Set Default enabled; Import/Export enabled.
- Server selection: Save disabled; Save Asâ€¦ creates a local copy; Revert disabled; Rename/Duplicate/Delete/Set Default disabled; Import/Export remain available (operate on locals).
- Loading a server profile marks working state as server-sourced; first Save acts as Save As to local, then selection can switch to the new local.

### 4.1 Advanced Tab: Bindings, Triggers, Lifecycle

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• âš¡ FIELD CUSTOMIZER âš¡ â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• â”‚
â”‚ [Basic] [ğŸ”— Advanced] [âš™ Field Settings]                                   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                            â”‚
â”‚  â”Œâ”€ BINDINGS â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  Dynamic properties that respond to player state                    â”‚   â”‚
â”‚  â”‚                                                                     â”‚   â”‚
â”‚  â”‚  [+ Add Binding]                                                    â”‚   â”‚
â”‚  â”‚                                                                     â”‚   â”‚
â”‚  â”‚  â”Œâ”€ alpha â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚   â”‚
â”‚  â”‚  â”‚ Source: [â–¼ player.health_percent                          ]  â”‚  â”‚   â”‚
â”‚  â”‚  â”‚ Input:  [â—â•â•â•â•â•â•â•â•] 0.0  â”€â”€toâ”€â”€  [â•â•â•â•â•â•â•â•â—] 1.0            â”‚  â”‚   â”‚
â”‚  â”‚  â”‚ Output: [â—â•â•â•â•â•â•â•â•] 0.3  â”€â”€toâ”€â”€  [â•â•â•â•â•â•â•â•â—] 1.0            â”‚  â”‚   â”‚
â”‚  â”‚  â”‚ Curve:  [â–¼ ease_out                                       ]  â”‚  â”‚   â”‚
â”‚  â”‚  â”‚                                              [ğŸ—‘ Remove]     â”‚  â”‚   â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚   â”‚
â”‚  â”‚                                                                     â”‚   â”‚
â”‚  â”‚  â”Œâ”€ scale â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚   â”‚
â”‚  â”‚  â”‚ Source: [â–¼ player.damage_taken                            ]  â”‚  â”‚   â”‚
â”‚  â”‚  â”‚ Input:  [â—â•â•â•â•â•â•â•â•] 0.0  â”€â”€toâ”€â”€  [â•â•â•â•â•â•â•â•â—] 10.0           â”‚  â”‚   â”‚
â”‚  â”‚  â”‚ Output: [â—â•â•â•â•â•â•â•â•] 1.0  â”€â”€toâ”€â”€  [â•â•â•â•â•â•â•â•â—] 1.5            â”‚  â”‚   â”‚
â”‚  â”‚  â”‚ Curve:  [â–¼ ease_in_out                                    ]  â”‚  â”‚   â”‚
â”‚  â”‚  â”‚                                              [ğŸ—‘ Remove]     â”‚  â”‚   â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                            â”‚
â”‚  â”Œâ”€ TRIGGERS â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  Visual effects that fire on game events                            â”‚   â”‚
â”‚  â”‚                                                                     â”‚   â”‚
â”‚  â”‚  [+ Add Trigger]                                                    â”‚   â”‚
â”‚  â”‚                                                                     â”‚   â”‚
â”‚  â”‚  â”Œâ”€ Damage Flash â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚   â”‚
â”‚  â”‚  â”‚ Event:     [â–¼ player.damage                               ]  â”‚  â”‚   â”‚
â”‚  â”‚  â”‚ Effect:    [â–¼ flash                                       ]  â”‚  â”‚   â”‚
â”‚  â”‚  â”‚ Duration:  [====â—===] 6 ticks                                â”‚  â”‚   â”‚
â”‚  â”‚  â”‚ Color:     [â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ] #FF0000                                   â”‚  â”‚   â”‚
â”‚  â”‚  â”‚                                              [ğŸ—‘ Remove]     â”‚  â”‚   â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚   â”‚
â”‚  â”‚                                                                     â”‚   â”‚
â”‚  â”‚  â”Œâ”€ Heal Pulse â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚   â”‚
â”‚  â”‚  â”‚ Event:     [â–¼ player.heal                                 ]  â”‚  â”‚   â”‚
â”‚  â”‚  â”‚ Effect:    [â–¼ pulse                                       ]  â”‚  â”‚   â”‚
â”‚  â”‚  â”‚ Duration:  [====â—===] 10 ticks                               â”‚  â”‚   â”‚
â”‚  â”‚  â”‚ Scale:     [====â—===] 1.2                                    â”‚  â”‚   â”‚
â”‚  â”‚  â”‚                                              [ğŸ—‘ Remove]     â”‚  â”‚   â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                            â”‚
â”‚  â”Œâ”€ LIFECYCLE â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  Spawn/despawn animations                                           â”‚   â”‚
â”‚  â”‚                                                                     â”‚   â”‚
â”‚  â”‚  Fade In:    [====â—===] 10 ticks     Scale In:  [====â—===] 10 ticksâ”‚   â”‚
â”‚  â”‚  Fade Out:   [====â—===] 10 ticks     Scale Out: [====â—===] 10 ticksâ”‚   â”‚
â”‚  â”‚                                                                     â”‚   â”‚
â”‚  â”‚  â”€â”€ Decay (gradual fade over time) â”€â”€                              â”‚   â”‚
â”‚  â”‚  Rate:       [==â—=====] 0.001/tick   Min Alpha: [====â—===] 0.3     â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 4.2 Primitive Linking Panel

```
â”Œâ”€ PRIMITIVE LINKING â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Link this primitive to another primitive's properties                     â”‚
â”‚                                                                            â”‚
â”‚  Radius Match: [â–¼ (none)                                               ]  â”‚
â”‚                [â–¼ sphere_1                                             ]  â”‚
â”‚                [â–¼ ring_outer                                           ]  â”‚
â”‚  Offset:       [====â—===] +0.5                                            â”‚
â”‚                                                                            â”‚
â”‚  Follow:       [â–¼ (none)                  ]  â† Copy position from target  â”‚
â”‚  Mirror Axis:  [â–¼ (none) | X | Y | Z      ]  â† Mirror offset              â”‚
â”‚  Phase Offset: [====â—===] 0.0                â† Animation sync             â”‚
â”‚  Scale With:   [â–¼ (none)                  ]  â† Scale from target          â”‚
â”‚                                                                            â”‚
â”‚  âš ï¸ Can only link to primitives EARLIER in the layer (no cycles)          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 4.3 Available Binding Sources

| Source ID | Description | Range |
|-----------|-------------|-------|
| `player.health` | Raw health value | 0-20 |
| `player.health_percent` | Health as 0-1 | 0-1 |
| `player.armor` | Armor points | 0-20 |
| `player.food` | Food level | 0-20 |
| `player.speed` | Movement speed | 0-âˆ |
| `player.is_sprinting` | Boolean | 0/1 |
| `player.is_sneaking` | Boolean | 0/1 |
| `player.is_flying` | Boolean | 0/1 |
| `player.is_invisible` | Boolean | 0/1 |
| `player.in_combat` | In combat (100 ticks) | 0/1 |
| `player.damage_taken` | Decayed damage | 0-âˆ |
| `field.age` | Field age in ticks | 0-âˆ |

### 4.4 Available Trigger Events

| Event | Fires When |
|-------|------------|
| `player.damage` | Player takes damage |
| `player.heal` | Player heals |
| `player.death` | Player dies |
| `player.respawn` | Player respawns |
| `field.spawn` | Field is created |
| `field.despawn` | Field is removed |

### 4.5 Available Trigger Effects

| Effect | Parameters | Behavior |
|--------|------------|----------|
| `flash` | color, duration | Brief color overlay |
| `pulse` | scale, duration | Scale up then back |
| `shake` | amplitude, duration | Rapid position jitter |
| `glow` | intensity, duration | Temporary glow boost |
| `color_shift` | color, duration | Temporary color change |

---

## 5. Data Flow

```
User Action                    GUI                      Core System
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                    â”€â”€â”€                      â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

Adjust slider â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶ onValueChanged()
                               â”‚
                               â–¼
                         currentValues.radius = 1.5
                               â”‚
                               â–¼
                         rebuildDefinition() â”€â”€â”€â”€â”€â”€â–¶ FieldDefinition
                               â”‚                           â”‚
                               â–¼                           â”‚
                         previewRenderer.update() â—€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                               â”‚
                               â–¼
                         (Live preview updates)
                               â”‚
[Apply] clicked â”€â”€â”€â”€â”€â”€â”€â–¶ sendToServer() â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶ FieldUpdatePayload
                                                           â”‚
                                                           â–¼
                                                  PersonalFieldInstance
                                                           â”‚
                                                           â–¼
                                                  (Field updates in world)

[Save] clicked â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶ saveProfile() â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶ FieldSavePayload
                                                           â”‚
                                                           â–¼
                                                  FieldProfileStore
                                                           â”‚
                                                           â–¼
                                                  (Saved to player data)
```

---

## 6. Implementation Order

> **See [GUI_ARCHITECTURE.md](./GUI_ARCHITECTURE.md) Â§9 for detailed progress tracking**

### Phase 1: Basic GUI (Minimum Viable) âœ… COMPLETE
1. ~~`FieldCustomizerScreen` with basic layout~~
2. ~~Shape type dropdown~~
3. ~~Key shape parameters (radius, steps)~~
4. ~~Fill mode dropdown~~
5. ~~Preview renderer (static, no rotation)~~
6. ~~Apply button â†’ sends to server~~

### Phase 2: Full Basic Controls âœ… COMPLETE
1. ~~All shape parameters~~ â†’ `ShapeSubPanel`
2. ~~All fill, visibility, arrangement controls~~ â†’ `FillSubPanel`, `VisibilitySubPanel`, `ArrangementSubPanel`
3. ~~Appearance controls (color, alpha, glow)~~ â†’ `AppearanceSubPanel`
4. ~~Animation controls (spin, pulse)~~ â†’ `AnimationSubPanel`
5. ~~Live preview (auto-apply as you change)~~

### Phase 3: Layer Management ğŸŸ¡ PARTIAL
1. ~~Layer tabs/navigation~~ â†’ `LayerPanel` (skeleton)
2. ~~Add/remove layers~~
3. ~~Layer-specific settings (rotation, visibility)~~
4. Primitive navigation within layer â†’ `PrimitivePanel` (TODO)
5. ~~**Primitive linking UI**~~ â†’ `LinkingSubPanel`

### Phase 4: Advanced Tab (Bindings, Triggers, Lifecycle) âœ… COMPLETE
1. ~~**Bindings panel**~~ â†’ `BindingsSubPanel`
2. ~~**Triggers panel**~~ â†’ `TriggerSubPanel`
3. ~~**Lifecycle panel**~~ â†’ `LifecycleSubPanel`
4. ~~Add/remove bindings and triggers dynamically~~

### Phase 5: Profile Management ğŸŸ¡ PARTIAL
1. ~~Save/Load profiles~~ â†’ `ProfilesPanel`, `ProfileManager`
2. ~~Named presets~~
3. ~~Set as default~~
4. Import/Export JSON (TODO)

### Phase 6: Polish ğŸŸ¡ IN PROGRESS
1. Animated preview (rotating field) - TODO
2. Pattern thumbnails - TODO
3. ~~Color picker with theme colors~~ â†’ `ColorPicker` (ThemePicker separate TODO)
4. Real-time binding preview - TODO
5. Trigger preview (test flash effect) - TODO
6. ~~Undo/Redo~~ â†’ `UndoManager`
7. Keyboard shortcuts - Not planned

---

## 7. New Classes Needed

> **âš ï¸ This section is outdated. See [GUI_CLASS_DIAGRAM.md](./GUI_CLASS_DIAGRAM.md) for the authoritative class list.**

#
## 12. Global Bottom Action Bar

The bottom action bar appears on all tabs EXCEPT the Profiles tab.

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                          BOTTOM ACTION BAR                                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                            â”‚
â”‚  â”Œâ”€ PRESETS (Two-Tier) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€ PROFILE â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚                                     â”‚  â”‚                            â”‚  â”‚
â”‚  â”‚  [Additive      â–¼] [Add Ring    â–¼]  â”‚  â”‚  [My Shield (combat)   â–¼]  â”‚  â”‚
â”‚  â”‚   â†‘ Category        â†‘ Preset        â”‚  â”‚   â†‘ Name (category)        â”‚  â”‚
â”‚  â”‚                                     â”‚  â”‚                            â”‚  â”‚
â”‚  â”‚  Categories:                        â”‚  â”‚  [SAVE]  [REVERT]          â”‚  â”‚
â”‚  â”‚  â€¢ Additive - Add elements          â”‚  â”‚   â†‘        â†‘               â”‚  â”‚
â”‚  â”‚  â€¢ Style - Visual changes           â”‚  â”‚  Enabled   Enabled when    â”‚  â”‚
â”‚  â”‚  â€¢ Animation - Motion effects       â”‚  â”‚  when      dirty           â”‚  â”‚
â”‚  â”‚  â€¢ Effect - Composite presets       â”‚  â”‚  dirty                     â”‚  â”‚
â”‚  â”‚  â€¢ Performance - Detail levels      â”‚  â”‚                            â”‚  â”‚
â”‚  â”‚                                     â”‚  â”‚  Note: SAVE becomes        â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚  "Save As" for server      â”‚  â”‚
â”‚                                           â”‚  profiles                  â”‚  â”‚
â”‚                                           â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                                            â”‚
â”‚  Preset Selection Flow:                                                    â”‚
â”‚  1. User selects category â†’ Preset dropdown updates                        â”‚
â”‚  2. User selects preset â†’ Confirmation dialog appears                      â”‚
â”‚  3. Dialog shows: Name, Description, Affected categories                   â”‚
â”‚  4. User confirms â†’ Preset merges into current state                       â”‚
â”‚                                                                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 13. Profiles Tab (Updated)

The Profiles tab has its own full management UI with filtering.

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                           PROFILES TAB                                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                            â”‚
â”‚  â”Œâ”€ FILTERS â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚                                                                      â”‚  â”‚
â”‚  â”‚  Source: [All      â–¼]    Category: [All        â–¼]    [ğŸ” search...] â”‚  â”‚
â”‚  â”‚           â”œâ”€ All                    â”œâ”€ All                          â”‚  â”‚
â”‚  â”‚           â”œâ”€ Bundled                â”œâ”€ Combat                       â”‚  â”‚
â”‚  â”‚           â”œâ”€ Local                  â”œâ”€ Utility                      â”‚  â”‚
â”‚  â”‚           â””â”€ Server                 â”œâ”€ Decorative                   â”‚  â”‚
â”‚  â”‚                                     â””â”€ Experimental                 â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                                            â”‚
â”‚  â”Œâ”€ PROFILE LIST â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚                                                                      â”‚  â”‚
â”‚  â”‚  â”€â”€ BUNDLED â”€â”€                                                       â”‚  â”‚
â”‚  â”‚    â—‹ Default Shield (utility)                                        â”‚  â”‚
â”‚  â”‚    â—‹ Showcase Animated (decorative)                                  â”‚  â”‚
â”‚  â”‚    â—‹ Showcase Layered (decorative)                                   â”‚  â”‚
â”‚  â”‚                                                                      â”‚  â”‚
â”‚  â”‚  â”€â”€ LOCAL â”€â”€                                                         â”‚  â”‚
â”‚  â”‚    â— My Combat Shield (combat) âœ                    â† Selected       â”‚  â”‚
â”‚  â”‚    â—‹ Test Wireframe (experimental) âœ                                 â”‚  â”‚
â”‚  â”‚    â—‹ Stealth Mode (utility) âœ                                        â”‚  â”‚
â”‚  â”‚                                                                      â”‚  â”‚
â”‚  â”‚  â”€â”€ SERVER â”€â”€                                                        â”‚  â”‚
â”‚  â”‚    â—‹ Server Default (utility) ğŸ”’                                     â”‚  â”‚
â”‚  â”‚    â—‹ PvP Arena Shield (combat) ğŸ”’                                    â”‚  â”‚
â”‚  â”‚                                                                      â”‚  â”‚
â”‚  â”‚  Legend: âœ = editable (local)  ğŸ”’ = read-only (bundled/server)       â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                                            â”‚
â”‚  â”Œâ”€ FRAGMENT SUMMARY (for selected profile) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚                                                                      â”‚  â”‚
â”‚  â”‚  Shape:       sphere_highpoly      Animation:   pulse_beat          â”‚  â”‚
â”‚  â”‚  Fill:        wireframe_thin       Prediction:  CUSTOM              â”‚  â”‚
â”‚  â”‚  Visibility:  bands_animated       Follow:      smooth              â”‚  â”‚
â”‚  â”‚  Arrangement: segment_alternating  Beam:        None                â”‚  â”‚
â”‚  â”‚                                                                      â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                                            â”‚
â”‚  â”Œâ”€ ACTIONS â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚                                                                      â”‚  â”‚
â”‚  â”‚  [Load] [Save] [Save As] [Rename] [Duplicate] [Delete]              â”‚  â”‚
â”‚  â”‚  [Import JSON] [Export JSON] [Set Default]                          â”‚  â”‚
â”‚  â”‚                                                                      â”‚  â”‚
â”‚  â”‚  Button States:                                                      â”‚  â”‚
â”‚  â”‚  â€¢ Save: Enabled for local profiles when dirty                      â”‚  â”‚
â”‚  â”‚  â€¢ Delete/Rename: Disabled for bundled/server                       â”‚  â”‚
â”‚  â”‚  â€¢ Save As: Always enabled (creates local copy)                     â”‚  â”‚
â”‚  â”‚                                                                      â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                                            â”‚
â”‚  Status: â— Unsaved changes                                                 â”‚
â”‚                                                                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 14. Category Descriptions

### Preset Categories

| Category | Icon | Description | Example Presets |
|----------|------|-------------|-----------------|
| **Additive** | â• | Add new elements to field | Add Inner Ring, Add Halo, Add Beacon |
| **Style** | ğŸ¨ | Change visual appearance | Wireframe, Solid Glow, Hologram |
| **Animation** | ğŸ”„ | Add/modify motion | Slow Spin, Pulse Beat, Wobble |
| **Effect** | âœ¨ | Composite transformations | Combat Ready, Stealth Mode, Power Surge |
| **Performance** | âš¡ | Adjust detail level | Low Detail, High Detail, Ultra |

### Profile Categories

| Category | Icon | Description | Use Case |
|----------|------|-------------|----------|
| **Combat** | âš”ï¸ | Battle-focused | PvP shields, damage indicators |
| **Utility** | ğŸ”§ | Functional/practical | Navigation aids, status displays |
| **Decorative** | ğŸŒŸ | Pure aesthetics | Fashion, roleplay, screenshots |
| **Experimental** | ğŸ§ª | Testing/WIP | New designs, performance testing |


## Summary (as of December 9, 2024)

| Category | Count | Key Classes |
|----------|-------|-------------|
| Screen | 1 | `FieldCustomizerScreen` |
| State | 3 | `FieldEditState`, `EditorState`, `UndoManager` |
| Panels | 5 | `BasicPanel`, `AdvancedPanel`, `DebugPanel`, `ProfilesPanel`, `PreviewPanel` |
| Sub-Panels | 13 | `ShapeSubPanel`, `AppearanceSubPanel`, `AnimationSubPanel`, `TransformSubPanel`, `VisibilitySubPanel`, `ArrangementSubPanel`, `FillSubPanel`, `LinkingSubPanel`, `PredictionSubPanel`, `FollowModeSubPanel`, `BindingsSubPanel`, `TriggerSubPanel`, `LifecycleSubPanel` |
| Widgets | 5 | `LabeledSlider`, `EnumDropdown`, `ColorPicker`, `Vec3Editor`, `RangeSlider` |
| Utilities | 4 | `GuiWidgets`, `GuiConstants`, `GuiLayout`, `GuiAnimations` |
| Network | 6 | Various C2S/S2C payloads |
| Profile | 3 | `Profile`, `ProfileManager`, `ProfileValidator` |

**Total: ~45 classes** (expanded from original ~20 estimate)

### Package Structure

```
net.cyberpunk042.client.gui/
â”œâ”€â”€ screen/          # FieldCustomizerScreen
â”œâ”€â”€ state/           # FieldEditState, EditorState, UndoManager
â”œâ”€â”€ panel/           # BasicPanel, AdvancedPanel, DebugPanel, etc.
â”‚   â””â”€â”€ sub/         # All SubPanel classes
â”œâ”€â”€ widget/          # Custom widgets
â”œâ”€â”€ util/            # GuiWidgets, GuiConstants, GuiLayout, GuiAnimations
â””â”€â”€ profile/         # Profile management
```

---

## 8. Integration Points (No Architecture Changes)

The GUI integrates at these existing points:

| Component | Integration | Changes Required | Status |
|-----------|-------------|------------------|--------|
| `FieldDefinition` | GUI reads/writes | **None** | âœ… Implemented |
| `FieldManager` | Apply changes | **None** | âœ… Implemented |
| `FieldNetworking` | Sync to server | Network payloads | âœ… Implemented |
| `FieldProfileStore` | Save/load | **None** (already exists) | âœ… Implemented |
| `FieldRenderer` | Preview uses it | **None** | âœ… Implemented |
| `ClientFieldManager` | Preview uses it | **None** | âœ… Implemented |

### Network Payloads Added

| Payload | Direction | Purpose | Status |
|---------|-----------|---------|--------|
| `FieldGuiOpenC2SPayload` | C2S | Request GUI open | âœ… |
| `FieldGuiDataS2CPayload` | S2C | Send current definition | âœ… |
| `FieldUpdateC2SPayload` | C2S | Apply changes | âœ… |
| `DebugFieldC2SPayload` | C2S | Debug field spawn/despawn/update | âœ… |
| `DebugFieldS2CPayload` | S2C | Debug field response | âœ… |
| `FieldProfileListS2CPayload` | S2C | Server profile list | ğŸŸ¡ Planned |
| `FieldProfileRequestC2SPayload` | C2S | Request server profile | ğŸŸ¡ Planned |
| `FieldProfileDataS2CPayload` | S2C | Profile JSON data | ğŸŸ¡ Planned |

**Total architecture impact:** ~6 network payloads implemented, ~45 GUI classes (expanded from original ~10 estimate)

---

## 9. Opening the GUI

### Current Implementation (December 9, 2024)

| Method | Status | Details |
|--------|--------|---------|
| **Command** | âœ… Implemented | `/field customize` - Opens GUI with DEBUG FIELD |
| **Command (profile)** | âœ… Implemented | `/field customize <profile>` - Opens GUI and loads profile |
| **Keybind** | ğŸŸ¡ Planned | Press `G` while holding personal field item |
| **Right-click** | ğŸŸ¡ Planned | On personal field item |
| **From totem screen** | ğŸŸ¡ Planned | Tab/button in existing UI |

### Implementation Details

**Command Flow:**
```
Player types: /field customize [profile]
    â†“
Server: FieldCommand.openCustomizer()
    â†“
Server â†’ Client: GuiOpenS2CPayload
    â†“
Client: GuiClientHandlers receives packet
    â†“
Client: Opens FieldCustomizerScreen
    â†“
Client: Spawns DEBUG FIELD (if not already active)
```

**Network Packet:**
- `GuiOpenS2CPayload` (S2C) - Contains profile name and debug unlock status
- Client handler: `GuiClientHandlers.register()` â†’ `FieldCustomizerScreen(state)`

---

## 10. Summary

### Original Goals (All Achieved âœ…)

âœ… **Doable:** Yes, Minecraft/Fabric fully supports custom screens  
âœ… **Clean:** GUI is additive, doesn't change core architecture  
âœ… **Reuses:** Same `FieldDefinition`, same rendering, same networking  
âœ… **Priority:** Phase 2 - considered during Phase 1 design, implemented in Phase 2  

### Implementation Status (December 9, 2024)

| Component | Status |
|-----------|--------|
| Core Screen | âœ… `FieldCustomizerScreen` |
| State Management | âœ… `FieldEditState`, `EditorState`, `UndoManager` |
| Basic Controls | âœ… `BasicPanel` with shape/fill/color |
| Advanced Controls | âœ… `AdvancedPanel` with 10 sub-panels |
| Debug Controls | âœ… `DebugPanel` with bindings/triggers/lifecycle |
| Profile System | ğŸŸ¡ Partial - save/load works, import/export TODO |
| Network Sync | âœ… C2S/S2C payloads implemented |
| Preview | âœ… `PreviewPanel` with DEBUG FIELD |

### Remaining TODO

- [ ] `PrimitivePanel` - select primitives within layer
- [ ] `BeamSubPanel` - beam config in debug section
- [ ] `ThemePicker` - theme color selection (separate from ColorPicker)
- [ ] Import/Export profiles
- [ ] Keyboard shortcuts (not planned)
- [ ] Animated preview rotation
- [ ] Performance notices (see Â§13)
- [ ] Preset system across panels (shape, fill, visibility, arrangement, animation, beam, follow/prediction)

**The GUI is just another way to build a `FieldDefinition` - the core system doesn't need to know or care where it came from.**

---

## 13. Performance Notices

> **Added:** December 9, 2024  
> **Approach:** Progressive (inline + banner)

### 13.1 Design Principle

Performance warnings should be **contextual** - shown where the user made the change, not hidden in a debug panel.

### 13.2 Two-Tier System

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         PERFORMANCE NOTICES                                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                             â”‚
â”‚  TIER 1: INLINE HINTS (on the control that caused it)                      â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ Lat Steps: [================â—===] 256                                 â”‚ â”‚
â”‚  â”‚ âš ï¸ High value - may impact performance                                â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                                             â”‚
â”‚  TIER 2: PREVIEW BANNER (for high severity / combined issues)             â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€            â”‚
â”‚  â”Œâ”€ PREVIEW â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚                                                                       â”‚ â”‚
â”‚  â”‚                    (field preview here)                               â”‚ â”‚
â”‚  â”‚                                                                       â”‚ â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”‚
â”‚  â”‚ âš ï¸ 125K vertices | ğŸŸ¡ Medium complexity                               â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 13.3 Thresholds

| Metric | ğŸŸ¢ Good | ğŸŸ¡ Warning | ğŸ”´ High |
|--------|---------|------------|---------|
| Total Vertices | < 50K | 50K - 200K | > 200K |
| lat Ã— lon (per shape) | < 10K | 10K - 50K | > 50K |
| Layer count | 1-3 | 4-6 | > 6 |
| Primitives per layer | 1-5 | 6-10 | > 10 |

### 13.4 Message Examples

| Trigger | Tier | Message |
|---------|------|---------|
| latSteps > 128 | Inline | "âš ï¸ High value - may impact performance" |
| lat Ã— lon > 50K | Inline | "âš ï¸ High resolution - consider reducing" |
| Total vertices > 200K | Banner | "ğŸ”´ Very high complexity - FPS may drop" |
| 6+ layers | Banner | "ğŸŸ¡ Many layers - consider simplifying" |

### 13.5 Implementation Notes

```java
// In ShapeSubPanel or FieldEditState:
public static PerformanceTier assessComplexity(FieldDefinition def) {
    int totalVertices = calculateTotalVertices(def);
    if (totalVertices > 200_000) return PerformanceTier.HIGH;
    if (totalVertices > 50_000) return PerformanceTier.MEDIUM;
    return PerformanceTier.LOW;
}

// PreviewPanel shows banner if tier >= MEDIUM
// Individual sliders show inline hints for their specific thresholds
```

### 13.6 UX Considerations

- Notices are **informational**, not blocking
- User can still apply high-complexity configs
- Notices update in real-time as values change
- Consider "Don't show again" option for power users

---

## 11. Phase 1 Considerations

While the GUI is developed in Phase 2, Phase 1 should ensure:

1. âœ… **FieldDefinition is immutable/clonable** - GUI will need to create modified copies
2. âœ… **All parameters are serializable** - GUI will need to read/write JSON (`toJson()` methods)
3. âœ… **Commands expose same knobs** - `/fieldtest edit` tests the same values GUI will control
4. âœ… **Network payloads support live updates** - GUI will send partial updates
5. âœ… **Bindings system complete** - 12 sources, curve interpolation, range mapping
6. âœ… **Triggers system complete** - 6 events, 5 effects, duration tracking
7. âœ… **Lifecycle system complete** - fadeIn/Out, scaleIn/Out, decay
8. âœ… **Primitive linking complete** - radiusMatch, follow, mirror, phaseOffset, scaleWith
9. âœ… **VisibilityMask complete** - FULL, BANDS, STRIPES, CHECKER, RADIAL, GRADIENT

**All Phase 1 prerequisites are now complete!** âœ…

---

## 12. FieldDefinition Coverage

The GUI exposes all 12 top-level fields:

| Field | GUI Location | Status | Implementation |
|-------|--------------|--------|----------------|
| `id` | Header (read-only) | âœ… Implemented | `FieldCustomizerScreen` header |
| `type` | Field Settings tab | ğŸŸ¡ Planned | Not yet exposed in GUI |
| `baseRadius` | Basic tab | âœ… Implemented | `BasicPanel` / `ShapeSubPanel` |
| `themeId` | Appearance section | ğŸŸ¡ Planned | Theme system exists, GUI integration TODO |
| `layers` | Layer navigation | ğŸŸ¡ Partial | `LayerPanel` skeleton exists, not fully wired |
| `modifiers` | Field Settings tab | ğŸŸ¡ Planned | Not yet exposed |
| `prediction` | Advanced tab | âœ… Implemented | `PredictionSubPanel` |
| `beam` | Debug tab | ğŸŸ¡ Planned | `BeamSubPanel` TODO |
| `followMode` | Advanced tab | âœ… Implemented | `FollowModeSubPanel` |
| `bindings` | Debug tab | âœ… Implemented | `BindingsSubPanel` |
| `triggers` | Debug tab | âœ… Implemented | `TriggerSubPanel` |
| `lifecycle` | Debug tab | âœ… Implemented | `LifecycleSubPanel` |

### Layer-Level Coverage

All layer fields are exposed through sub-panels:

| Layer Field | Sub-Panel | Status |
|-------------|-----------|--------|
| `primitives[]` | `ShapeSubPanel` | âœ… Implemented |
| `appearance` | `AppearanceSubPanel` | âœ… Implemented |
| `animation` | `AnimationSubPanel` | âœ… Implemented |
| `transform` | `TransformSubPanel` | âœ… Implemented |
| `visibilityMask` | `VisibilitySubPanel` | âœ… Implemented |
| `arrangement` | `ArrangementSubPanel` | âœ… Implemented |
| `fill` | `FillSubPanel` | âœ… Implemented |
| `linking` | `LinkingSubPanel` | âœ… Implemented |

---

*Implementation Status: Core fields complete, field-level settings (type, modifiers, beam) pending*

